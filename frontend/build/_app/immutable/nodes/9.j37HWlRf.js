import{a as m,t as k,b as I}from"../chunks/disclose-version.CWWACKTL.js";import"../chunks/legacy.DZDO77d0.js";import{p as K,t as O,a as Q,c as t,g as i,m as c,b as w,n as P,r as a,s,d}from"../chunks/runtime.Bs8s2Cqe.js";import{d as R,e as U,s as W}from"../chunks/render.ouz2EBKM.js";import{i as T}from"../chunks/if.CnEAnunN.js";import{r as v}from"../chunks/attributes.Da7CgcoU.js";import{b as u}from"../chunks/input.CP4Dq1az.js";import{i as X}from"../chunks/lifecycle.CksSxylQ.js";import{g as Y}from"../chunks/entry.Ca5uQbHT.js";var Z=()=>window.history.back(),$=k('<div class="rounded-md bg-red-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3></div></div></div>'),ee=k('<svg class="mr-2 h-4 w-4 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Creating...',1),te=k('<div class="container mx-auto px-4 py-8"><div class="mb-6 flex items-center gap-4"><button class="rounded-md bg-slate-200 px-2 py-1 text-xs hover:bg-slate-400">back</button> <h1 class="text-2xl font-bold">New Member</h1></div> <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><form class="space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label for="first_name" class="block text-sm font-medium text-gray-700">First Name</label> <input type="text" id="first_name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></div> <div><label for="last_name" class="block text-sm font-medium text-gray-700">Last Name</label> <input type="text" id="last_name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></div></div> <div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input type="email" id="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></div> <div><label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label> <input type="tel" id="phone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></div> <!> <div class="flex justify-end"><button type="submit" class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"><!></button></div></form></div></div>');function ce(A,E){K(E,!1);let r=w({first_name:"",last_name:"",email:"",phone:""}),l=w(null),n=w(!1);async function H(e){e.preventDefault(),d(n,!0),d(l,null);try{(await fetch("/api/members/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(r))})).ok?Y("/members"):d(l,"Failed to create member")}catch(o){d(l,"Failed to create member"),console.error(o)}finally{d(n,!1)}}X();var f=te(),p=t(f),J=t(p);J.__click=[Z],P(2),a(p);var C=s(p,2),b=t(C),g=t(b),_=t(g),L=s(t(_),2);v(L),a(_);var M=s(_,2),N=s(t(M),2);v(N),a(M),a(g);var h=s(g,2),z=s(t(h),2);v(z),a(h);var x=s(h,2),q=s(t(x),2);v(q),a(x);var F=s(x,2);T(F,()=>i(l),e=>{var o=$(),j=t(o),B=s(t(j),2),D=t(B),G=t(D,!0);a(D),a(B),a(j),a(o),O(()=>W(G,i(l))),m(e,o)});var S=s(F,2),y=t(S),V=t(y);T(V,()=>i(n),e=>{var o=ee();P(),m(e,o)},e=>{var o=I("Create Member");m(e,o)}),a(y),a(S),a(b),a(C),a(f),O(()=>y.disabled=i(n)),U("submit",b,H),u(L,()=>i(r).first_name,e=>c(r,i(r).first_name=e)),u(N,()=>i(r).last_name,e=>c(r,i(r).last_name=e)),u(z,()=>i(r).email,e=>c(r,i(r).email=e)),u(q,()=>i(r).phone,e=>c(r,i(r).phone=e)),m(A,f),Q()}R(["click"]);export{ce as component};
