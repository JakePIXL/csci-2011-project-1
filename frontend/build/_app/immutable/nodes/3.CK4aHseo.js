import{a as l,t as v,c as Q}from"../chunks/disclose-version.CWWACKTL.js";import"../chunks/legacy.DZDO77d0.js";import{p as R,a as U,d as B,c as e,f as V,g as a,t as M,b as j,n as N,r as t,s as p}from"../chunks/runtime.Bs8s2Cqe.js";import{d as W,s as c}from"../chunks/render.ouz2EBKM.js";import{i as T}from"../chunks/if.CnEAnunN.js";import{e as X,i as Y}from"../chunks/each.Dei1YSep.js";import{s as Z}from"../chunks/attributes.Da7CgcoU.js";import{t as u}from"../chunks/class.Di9CBhOt.js";import{i as S}from"../chunks/lifecycle.CksSxylQ.js";import{o as tt}from"../chunks/index-client.BSckvdmv.js";var n=(i=>(i.Available="available",i.Borrowed="borrowed",i.All="all",i))(n||{}),et=()=>window.history.back(),at=v('<div class="text-center">Loading...</div>'),rt=v('<div class="text-red-500"> </div>'),st=v('<tr><td class="whitespace-nowrap px-6 py-4"> </td><td class="whitespace-nowrap px-6 py-4"> </td><td class="whitespace-nowrap px-6 py-4"> </td><td class="whitespace-nowrap px-6 py-4"><span class="rounded-full px-2 py-1 text-xs font-semibold"> </span></td><td class="whitespace-nowrap px-6 py-4"><a class="text-blue-600 hover:text-blue-900">Edit</a></td></tr>'),it=v('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Title</th><th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Author</th><th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Category</th><th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Status</th><th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Actions</th></tr></thead><tbody class="divide-y divide-gray-200 bg-white"></tbody></table></div>'),ot=v('<div class="container mx-auto px-4 py-8"><div class="mb-6 flex items-center justify-between"><div class="flex flex-row items-center gap-4"><button class="rounded-md bg-slate-200 px-2 py-1 text-xs hover:bg-slate-400">back</button> <h1 class="text-2xl font-bold">Books</h1></div> <a href="/books/new" class="rounded-md bg-blue-500 px-4 py-2 text-white hover:bg-blue-600">Add New Book</a></div> <!></div>');function gt(i,q){R(q,!1);let $=j([]),C=j(!0),f=j(null);tt(async()=>{try{const o=await fetch("/api/books/");B($,await o.json())}catch{B(f,"Failed to load books")}finally{B(C,!1)}}),S();var g=ot(),h=e(g),E=e(h),z=e(E);z.__click=[et],N(2),t(E),N(2),t(h);var D=p(h,2);T(D,()=>a(C),o=>{var x=at();l(o,x)},o=>{var x=Q(),G=V(x);T(G,()=>a(f),b=>{var s=rt(),m=e(s,!0);t(s),M(()=>c(m,a(f))),l(b,s)},b=>{var s=it(),m=e(s),F=p(e(m));X(F,5,()=>a($),Y,(H,r)=>{var y=st(),w=e(y),I=e(w);t(w);var _=p(w),J=e(_,!0);t(_);var k=p(_),K=e(k,!0);t(k);var A=p(k),d=e(A),O=e(d,!0);t(d),t(A);var L=p(A),P=e(L);t(L),t(y),M(()=>{c(I,`"${a(r).title??""}"`),c(J,a(r).author),c(K,a(r).category||"-"),u(d,"bg-green-100",a(r).status===n.Available),u(d,"text-green-800",a(r).status===n.Available),u(d,"bg-red-100",a(r).status===n.Borrowed),u(d,"text-red-800",a(r).status===n.Borrowed),c(O,a(r).status),Z(P,"href",`/books/${a(r).id??""}`)}),l(H,y)}),t(F),t(m),t(s),l(b,s)},!0),l(o,x)}),t(g),l(i,g),U()}W(["click"]);export{gt as component};
